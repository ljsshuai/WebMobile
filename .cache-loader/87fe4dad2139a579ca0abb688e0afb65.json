{"remainingRequest":"F:\\webMobile\\node_modules\\babel-loader\\lib\\index.js?cacheDirectory!F:\\webMobile\\client\\component\\fetch.js","dependencies":[{"path":"F:\\webMobile\\client\\component\\fetch.js","mtime":1537491948472},{"path":"F:\\webMobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1537511528663},{"path":"F:\\webMobile\\node_modules\\babel-loader\\lib\\index.js","mtime":1530808242000}],"contextDependencies":[],"result":["'use strict';\n\nvar _promise = require('babel-runtime/core-js/promise');\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _config = require('../../public/config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n    var enterModule = require('react-hot-loader').enterModule;\n\n    enterModule && enterModule(module);\n})();\n\n// import fetch from 'isomorphic-fetch';\nfunction fetchFn(url, req) {\n    return new _promise2.default(function (resolve, reject) {\n        var formData = new FormData();\n        for (var i in req) {\n            formData.append(i, req[i]);\n        }\n        formData.append('_token', localStorage.getItem('_token'));\n        console.log(_config2.default.url + 'api/' + url);\n        fetch(_config2.default.url + 'api/' + url, {\n            headers: {\n                \"Authorization\": \"Bearer \" + localStorage.getItem('_token')\n            },\n            method: 'POST',\n            body: formData\n            // credentials: 'include' //   强制加入d凭据头\n        }).then(function (res) {\n\n            return res.json();\n        }).then(function (resdata) {\n            resolve(resdata);\n        }).catch(function (err) {\n            console.log(err);\n            reject(err);\n        });\n    });\n}\n\nmodule.exports = fetchFn;\n;\n\n(function () {\n    var reactHotLoader = require('react-hot-loader').default;\n\n    var leaveModule = require('react-hot-loader').leaveModule;\n\n    if (!reactHotLoader) {\n        return;\n    }\n\n    reactHotLoader.register(fetchFn, 'fetchFn', 'F:/webMobile/client/component/fetch.js');\n    leaveModule(module);\n})();\n\n;",null]}